import{d as f,u as v,i as g,o as h,g as e,f as a,q as _,s as K,v as b,e as t,F as w,h as V,j as m,l as A,m as I,H as S}from"./index-8ZdMb3LY.js";const N=f({__name:"ApiKeyInput",setup(y){const l=v();return(r,s)=>{const n=a("v-text-field");return h(),g("div",null,[e(n,{id:"apiKey",type:"password",label:"API Key",hint:"Enter your OpenWeather API Key. If you don't have one, you can get one at openweathermap.org/api after subscribing to One Call API 3.0","persistent-hint":"",modelValue:_(l).apiKey,"onUpdate:modelValue":s[0]||(s[0]=u=>_(l).apiKey=u)},null,8,["modelValue"])])}}}),P=f({__name:"SettingsView",setup(y){const l=K(),r=b("theme","light");function s(){r.value=l.global.current.value.dark?"light":"dark",l.global.name.value=r.value}const n=v(),u=I();async function k(){if(n.hasApiKey)try{await A.getOneCallWeather(0,0,n.apiKey),u.push("/")}catch(i){i instanceof S&&i.httpStatusCode===401&&n.addMessage("Looks like that API key is not valid.")}else n.addMessage("You need to set an OpenWeatherMap api key to continue.")}return(i,o)=>{const x=a("v-form"),d=a("v-col"),p=a("v-row"),C=a("v-icon"),c=a("v-btn");return h(),g(w,null,[e(p,null,{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[e(x,null,{default:t(()=>[e(N)]),_:1})]),_:1})]),_:1}),e(p,{justify:"end",class:"text-right"},{default:t(()=>[e(d,null,{default:t(()=>[e(c,{onClick:s},{default:t(()=>[e(C,null,{default:t(()=>[...o[0]||(o[0]=[m("mdi-theme-light-dark",-1)])]),_:1}),o[1]||(o[1]=V("span",null,"Toggle dark mode",-1))]),_:1})]),_:1})]),_:1}),e(p,{justify:"end",class:"text-right"},{default:t(()=>[e(d,null,{default:t(()=>[e(c,{onClick:k},{default:t(()=>[...o[2]||(o[2]=[m("Done",-1)])]),_:1})]),_:1})]),_:1})],64)}}});export{P as default};
